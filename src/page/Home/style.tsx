import styled from 'styled-components';
import { PushPinOutlined } from '@mui/icons-material';
import { createSvgIcon } from '@mui/material/utils';
import { Avatar, Popper } from '@mui/material';

interface asideProps {
  $close: boolean;
  ref?: any;
}
interface logoProps {
  $color: string;
  $size?: number;
}
interface headerProps {}

const transitionTime = '0.3s ease-in-out';
const asideOpenWidth = 60;
const asideCloseWidth = 5;

const Logo = styled(
  createSvgIcon(
    [
      <path
        key="icon-id-1"
        d="M913.83489 404.321255h-73.825925c-6.502802 0-11.85805 5.355248-11.85805 12.240568v449.840867c0 6.502802 5.355248 11.85805 11.85805 11.85805h73.825925c6.502802 0 11.85805-5.355248 11.85805-11.85805V416.561823c0-6.885319-5.355248-12.240568-11.85805-12.240568zM1387.774374 858.369817l-102.897273-148.416885c44.372058-18.360852 66.940605-56.995144 66.940605-114.755323V534.759806c0-90.274188-47.049682-130.438551-152.624579-130.438551h-183.226c-6.502802 0-11.85805 5.355248-11.85805 12.240568v449.840867c0 6.502802 5.355248 11.85805 11.85805 11.85805h73.825925c6.502802 0 11.85805-5.355248 11.85805-11.85805v-141.149048h75.738513l102.897273 148.034367c2.295106 3.060142 6.120284 5.355248 9.945462 5.355248h88.361598c6.502802 0 11.85805-5.355248 11.858051-11.85805 0-3.44266-1.147553-6.120284-2.677625-8.41539zM1101.651102 491.917818h93.716847c48.579753 0 58.142697 19.125887 58.142697 49.727307v45.902129c0 38.251774-14.535674 51.257378-58.142697 51.257378H1101.651102V491.917818z"
        p-id="5694"
      />,
      <path
        key="icon-id-2"
        d="M1630.290624 412.736645c-1.530071-4.972731-6.120284-8.41539-11.475532-8.41539h-112.460217c-5.355248 0-9.945461 3.44266-11.475532 8.41539l-141.914083 449.840867c-1.147553 3.825177-0.382518 7.650355 1.912588 10.710497 2.295106 3.060142 5.737766 4.972731 9.562944 4.972731H1442.091894c5.355248 0 9.945461-3.44266 11.475532-8.797908l97.542025-330.877849s2.677624-8.41539 11.475532-8.41539c9.180426 0 11.093015 8.41539 11.093015 8.41539l45.519611 156.832275H1556.847217c-5.355248 0-9.945461 3.44266-11.475532 8.797908l-17.595816 61.967875c-1.147553 3.44266-0.382518 7.650355 1.912588 10.710497 2.295106 3.060142 5.737766 4.590213 9.562944 4.590212h105.192379l27.15876 87.596564c1.530071 4.972731 6.120284 8.41539 11.475532 8.41539h77.268585c3.825177 0 7.267837-1.912589 9.562943-4.972731 2.295106-3.060142 3.060142-7.267837 1.912589-10.710496l-141.531565-449.075832zM740.554352 404.321255H665.580874c-6.502802 0-11.475532 4.972731-11.475532 11.475532v351.916325c0 44.372058-33.661561 58.907733-56.612626 60.055285-3.060142 0-6.502802 1.912589-8.797908 4.972731-1.912589 3.060142-2.677624 6.502802-1.530071 9.945461l18.360851 59.290251c1.530071 4.972731 6.885319 8.032873 15.30071 8.032872 71.530818 0 131.203586-56.230108 131.203586-131.586103V415.796787c0-3.060142-1.147553-6.120284-3.442659-8.032872-2.295106-2.295106-4.972731-3.44266-8.032873-3.44266zM161.03997 281.533059c-22.951065 0-41.694434 18.743369-41.694434 41.694434s18.743369 41.694434 41.694434 41.694435S202.734404 346.178558 202.734404 323.227493c-0.382518-22.951065-18.743369-41.694434-41.694434-41.694434zM434.157639 281.533059c-22.951065 0-41.694434 18.743369-41.694434 41.694434s18.743369 41.694434 41.694434 41.694435 41.694434-18.743369 41.694434-41.694435-18.743369-41.694434-41.694434-41.694434z"
        p-id="5695"
      />,
      <path
        key="icon-id-3"
        d="M297.598805 243.663803c-22.951065 0-41.694434 18.743369-41.694434 41.694434s18.743369 41.694434 41.694434 41.694434 41.694434-18.743369 41.694434-41.694434c0-23.333582-18.743369-41.694434-41.694434-41.694434z"
        p-id="5696"
      />,
      <path
        key="icon-id-4"
        d="M532.847217 397.818453c-2.295106-1.912589-4.972731-2.677624-8.032873-2.677624-1.530071 0-3.060142 0.382518-4.590213 0.765036-28.306313 10.710497-56.612626 19.125887-83.00635 24.863653-5.355248 1.147553-9.562944 5.355248-11.475532 9.945461-19.125887 52.022413-67.705641 101.74972-118.580501 153.772133-1.912589 1.912589-4.972731 4.590213-9.562943 4.590213s-7.650355-2.295106-9.562944-4.590213c-50.87486-52.022413-99.454613-101.367202-118.580501-153.772133-1.912589-4.590213-6.120284-8.797908-11.475532-9.945461-26.011207-6.120284-54.700037-14.535674-83.00635-25.246171-1.530071-0.765035-3.060142-0.765035-4.590213-0.765035-2.677624 0-5.737766 0.765035-8.032873 2.677624-3.44266 2.677624-5.355248 7.267837-4.97273 11.475532 4.207695 43.224505 21.420994 85.683975 52.40493 130.056033 29.071349 41.694434 66.940605 80.328726 103.662309 117.815465 67.323123 68.853194 131.203586 133.88121 136.941352 209.237206a13.005603 13.005603 0 0 0 13.005604 12.240568h79.181173c3.44266 0 6.885319-1.530071 9.562943-4.207696 2.295106-2.677624 3.825177-6.120284 3.44266-9.562943-2.677624-50.492342-21.420994-100.984684-58.142697-154.537169-7.650355-11.093015-15.683227-22.186029-24.481136-32.896526-3.44266-4.207695-1.912589-9.562944 0.765036-12.623085l8.032872-8.032873c36.721703-37.486739 74.59096-76.121031 103.662309-117.815465 30.983937-44.372058 48.197236-86.44901 52.404931-130.056033 0.382518-3.44266-1.530071-8.032873-4.972731-10.710497zM212.297348 715.690699c-1.912589-1.912589-4.590213-3.825177-9.180426-3.825178-5.737766 0-9.562944 4.207695-10.710497 6.120284-33.279044 50.87486-50.492342 98.689578-52.787449 146.886814 0 3.44266 1.147553 7.267837 3.44266 9.562943 2.295106 2.677624 5.737766 4.207695 9.562944 4.207695h79.181173c6.885319 0 12.623086-5.355248 13.005603-12.240567 1.912589-23.333582 8.797908-46.284647 22.186029-70.765783 4.590213-8.41539 1.147553-16.448263-1.530071-19.890923-13.388121-17.213298-29.071349-35.191632-53.169966-60.055285z"
        p-id="5697"
      />,
      <path
        key="icon-id-5"
        d="M297.598805 436.452746c24.863653 0 39.399328-1.530071 44.372058-1.530071 6.120284 0 11.85805 4.972731 11.85805 12.240567 0 1.912589-0.382518 3.44266-1.147553 4.972731-3.44266 8.797908-18.360852 40.546881-46.284647 67.705641-3.060142 3.060142-6.885319 3.44266-9.180426 3.442659-2.295106 0-6.120284-0.382518-9.180426-3.442659-27.923795-27.15876-42.841987-58.907733-46.284647-67.705641-0.382518-1.147553-1.147553-2.677624-1.147553-4.972731 0-6.885319 5.737766-12.240568 11.85805-12.240567 5.737766 0 20.27344 1.530071 45.137094 1.530071z"
        p-id="5698"
      />,
    ],
    'myLogo',
  ),
)<logoProps>`
  color: ${(props) => props.$color};
  font-size: ${(props) => (props.$size ? `${props.$size}px` : '48px')};
  height: ${(props) => Math.round((props.$size || 48) / 1.8)}px;
`;
export const LogoSvg = (props: logoProps) => <Logo viewBox="0 0 1847 1024" {...props} />;

export const IconPushPin = styled(PushPinOutlined)`
  cursor: pointer;
  position: absolute;
  bottom: ${asideCloseWidth}px;
  right: ${asideCloseWidth}px;
  font-size: 14px;
`;

export const Aside = styled('aside')<asideProps>`
  position: fixed;
  height: 100vh;
  background-color: #14a2ff;
  transition: left ${transitionTime};
  z-index: 2;
  width: ${asideOpenWidth}px;
  padding: 5px ${asideCloseWidth}px;
  left: calc(${(props) => (props.$close ? `${asideCloseWidth - asideOpenWidth}px` : '0')});
  &:hover {
    left: 0;
  }
  ${Logo} {
    position: absolute;
    left: 50%;
    top: 20px;
    transform: translate(-50%);
  }
  ${IconPushPin} {
    color: ${(props) => (props.$close ? '#ebebebaa' : '#ffffffff')};
    transform: rotate(${(props) => (props.$close ? '45deg' : '0')});
  }
`;

export const SecurityArea = styled('div')`
  display: block;
  overflow: hidden;
  max-width: 2400px;
  min-width: 1200px;
  padding: 0 100px;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  margin: 0 auto;
`;
export const UserAvatar = styled(Avatar)``;

export const UserControl = styled('div')`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  user-select: none;
  ${UserAvatar} {
  }
  & span {
    margin-left: 10px;
    font-size: 18px;
  }
`;
export const UserOptionPopper = styled(Popper)`
  background-color: #ffffff;
  border: 1px solid #f1f1f1;
  box-sizing: border-box;
  border-radius: 5px;
  box-shadow: 0 5px 10px rgb(0 0 0 / 15%);
`;

export const TopTitle = styled('div')`
  height: 60%;
  border-bottom: 1px solid #f0f0f0;
`;

export const Navigator = styled('nav')`
  height: 40%;
`;

const headerHeight = 100;
export const Header = styled('header')<headerProps>`
  top: 0;
  height: ${headerHeight}px;
  background-color: #ffffff99;
  backdrop-filter: blur(5px);
  border-bottom: 1px solid #cbcbcb;
  z-index: 1;
  ${SecurityArea} {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
`;

const margin = 10;
export const Content = styled('section')`
  position: relative;
  width: calc(100% - ${margin * 2}px);
  min-height: 85vh;
  height: 2000px;
  margin: ${margin + headerHeight}px ${margin}px ${margin}px;
  overflow: auto;
  background-color: #ffffff;
  border-radius: 3px;
  z-index: 0;
`;

export const Container = styled('main')<asideProps>`
  position: relative;
  min-width: 1000px;
  width: calc(100% - ${(props) => (props.$close ? asideCloseWidth : asideOpenWidth)}px);
  margin-left: ${(props) => (props.$close ? asideCloseWidth : asideOpenWidth)}px;
  overflow: hidden;
  z-index: 1;
  background-color: #f1f1f1;
  ${Header} {
    position: fixed;
    left: ${(props) => (props.$close ? asideCloseWidth : asideOpenWidth)}px;
    width: calc(100% - ${(props) => (props.$close ? asideCloseWidth : asideOpenWidth)}px);
  }
`;
